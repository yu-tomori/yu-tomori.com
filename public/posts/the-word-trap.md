# 自分で考えるチームをつくる

この記事は主にソフトウェア開発に関わる方向けに書くが、もっと汎用的な意味を持つと思う。


## チーム開発

あなたがソフトウェア開発の世界に足を踏み入れたとき、プロジェクトのメンバーはあなたしかいなくて、コードの行数もせいぜい1000行くらいだっただろう。大学の課題でソートアルゴリズムを実装するとか、独学の末に開発職に応募するために技術力を示すサービスを作るとか、Excel関数が複雑になってきたからVBAをちょろっと書いてみるとか、そういう感じだと思う。

一人で小さなプログラムを書いていたとき、エラーを解決できるのは自分しかいなくて、周りに理解者も少なくて、少し寂しいかもしれない。でも、そのときのプログラミングは、Pull Requestもレビュー対応もドキュメントも自動テストもいらない。代わりに、JavaScriptでエフェクトを実装して楽しんだり、新しく知ったsyntaxを試してみたり、本で読んだ設計原則を真似たりしたかもれない。一人でプログラミングをしているとき、あなたには自由があった。

プログラミングを続けていると少しずつプロジェクトの規模が大きくなっていく。そして、どこかのタイミングで複数人の開発プロジェクトに参加することになる。そこであなたは、今までのやり方じゃ上手くいかないということに気づく。自分以外のチームメンバーが書いたコードが理解できなかったり、ディレクトリがたくさんあってどこに何を書くべきかわからなかったり、他のチームメンバーと同じ箇所を編集してどちらを採用すれば良いのかわからなくなったりする。

あなたはインターネットでこれらの問題について調べたり、より経験のあるチームメンバーに相談したりする。そして、Gitを使うようになり、Pull Requestを作りレビューを受けるようになり、自動テスト書いたりドキュメントを書くようになる。また、アジャイル開発だのスクラム開発だの、なんとか駆動開発だの、という新しい単語に触れる。それらは、一人で小さなプログラムを書いていた時には必要性を感じなかったものである。
でも、それらを採用すると、チームでのプロジェクトが上手くいくのである。自分が困っていることは既に世界の誰かが解決しているんだな、ということを体感的に学ぶ。

先人たちが築き上げてきた開発手法やツールは強力である。よくよく考えてみると、自分で考えるよりも既に確立されている手法に乗っかる方が賢いやり方だ思うようになる。そんなときに、「巨人の肩に乗る」といった教えを聞いたりして、自分で考えることをやめるようになる。

## よくある風景

**Aさん(リーダー)**     「このプロジェクトでは、スクラム開発を採用します。そのため、毎朝9:00からスタンドアップMTGを、毎週金曜日にはKPTを行います。」

&nbsp;

**Bさん(若手)**         「KPTて何ですか？」

&nbsp;

**Aさん(リーダー)**     「KPTは、まあ、簡単に言えば、その週の振り返りをする会だよ。その週にあったことをみんなで共有して、続けること/問題/新たに取り組むこと、を決めるんだ」

&nbsp;

**Cさん(中堅)**         「スクラム開発ではKPTはフレームワークという位置付けで、その会議体自体はレトロスペクティブと言うんだよね。あと、本来はレトロスペクティブはスプリント単位で実行するからうちだと隔週で一回でいいんだけど...まあ、細かいことはいいや。でも、うちのチームは15人だから、KPTやろうにもみんながしゃべれないと思うんだけど、Aさんどうするつもり？2時間くらいとる？」

&nbsp;

**Aさん(リーダー)**     「1時間で想定してましたけど、たしかにCさんのいう通りですね...うーん、例えば、事前に各々が思っていることをリストアップするのはどうでしょう。会議中に私が上から読み上げれば、みんな話さなくていいから１時間でおさまるんじゃない？」

&nbsp;

**Cさん(中堅)**         「うーん、おれはね、振り返りは民主的にやることが重要だと思うんだよ。Aさんが全て読み上げたら、Aさんの解釈で進んじまう気がする。やっぱり、書いた人に読み上げてもらうべきじゃない？」

&nbsp;

**Aさん(リーダー)**     「Cさんがそう思うのはわかったけど、スクラム開発ではこんなときどうすべきか、あとでプラクティスを探してみますね。」


&nbsp;

Aさんは例によって自分で考えることをやめており、最近はスクラム開発が一般的ということを聞きつけ、とりあえず採用してみることにしたようである。
でも、Cさんが不安なようなので、Aさんは確立された手法をインターネットで調べて対応しようと考えているようだ。
また、Aさんはそもそもチームが15人という規模になってしまっていることが良くないのではないかと薄々感じている。


## 自分で考えることをやめること

チーム開発の経験を積むと、自分たちが実践している運用や仕組みやコードベースに関してイケてないところが目につくようになる。

もっとちゃんと自動テストを書くべきだとか、振り返りをちゃんとやるべきだとか、あのモジュールの設計がイケてないから直すべきだとか、クリティカルなサービスに関しては障害が起きた時のシミュレーションをすべきだとか、そういうことである。

それまでにやってきたように、プラクティスを調べたり、先輩に聞いたりして、解決方法を模索する。その解決は、先人たちが知っているはずだ、有名企業では上手くやっているはずだ、どこかに巨人の肩があるはずだ、という前提がある。

そんな時に、Amazonのジェフベゾスがチームメンバーは多くてもピザ二枚が配れる人数にすべきと言っているのを聞いたり、Netflixでは意図的に障害を起こしてオペレーションやシステムの回復性を強化するためのするカオスエンジニアリングというプラクティスが実践されていることを知ったり、Googleでは業務時間の20%を自由に使っていいことになっているとか本で読んだりする。

だけど、チームに余裕が無かったり、他のメンバーが乗り気で無かったり、コードを書いたことがないマネージャーに伝えられる気がしなくて、行動しないという選択をする。というより、自分にとって面倒だから考えないでいるうちに、忘れることが多いかもしれない。
最初の数回はマネージャーに進言するかもしれないが、マネージャーの視点/経営の視点で語れなければあなたの案はボツになってしまう。
それも無理はなくて、キャリアの最初の方はそこまで視座は高くないし、あなたに求められているのは言われたことをこなすことなので、なかなか難しい。

次第にあなたは、「本来そういうことをちゃんと考えるべきなんだ」、「うちのマネージャーはコードも書いたことないから全然わかってない」、「経営陣が必要なリソースをよこしてくれない」とかそういう思考になってしまう。

## 自分で考えること

私は、この境地になってからが勝負だと思っている。、チームひいては事業を本当の意味で強くできるかという勝負である。

世の中に溢れているツールやプラクティスは、やはり先人たちの知恵が詰まっているので確かな価値がある。一方で、それはみんなに等しく配られている価値とも言える。それらを形式的に導入したところで、凡庸なチーム・凡庸なサービス・凡庸な事業ができるだけである。

また、世の中に溢れているツールやプラクティスには、必ず、それらが生まれた時代背景やターゲットとする課題がある。ツールやプラクティスが捉えている時代背景や課題の構造を理解し、それがあなたの今のチームにあっているか、あなたが今感じている課題感をツールが捉えているかを自分で考えることが重要である。

FacebookがGraphQLを開発したのはエンティティのネットワーク構造をRESTful APIで表現するのに限界があったからだし、Googleが20%ルールを採用していたのは盤石な既存事業が前提となるだろうし、Netflixがカオスエンジニアリングに凝っているのは障害が起きた際にエンドユーザからのロイヤルティが崩れるからだろうし、AmazonがS3を開発できたのはamazon.comで表示される商品画像をブロックストレージを使って世界のあちらこちらに配信することに限界を感じて課題が明確にわかっていたからだろう。

開発プラクティスについてもそれが有効になる前提が必ずあり、それがもたらす効果も限られている。一定規模以上のサービスを小さなチームが継続的に開発していく前提において自動テストが重要性を持つ。長期間または継続的な開発においてイテレーティブに計画の正確性を上げて与実の差分を無くしていくためにアジャイル開発は役立つが、それ自体が開発スピードを上げてくれるわけではない。

だから、世の中に溢れているツールやプラクティスを形式的に導入するよりも、あなたが置かれた環境を観察し、何が課題なのかを整理することが重要なのである。
あなたが関わっているサービスのデータ構造がRESTful APIで表現できるなら、ほとんどの場合、GraphQLに手をだす必要はない。また、チームに余裕がない状況なら、まずは、一定期間の間にチームがどれだけの機能をリリースできたのかを測るのが大事だ。欲をいえば、機能ごとに事業にとっての重要度でポイントをつけて、何ポイント分リリースできたのかを測れると良いが、最初はコードの行数とか機能数でもいいと思う。

あなたがおかれている環境は、どこかの点で特殊である。オフショア開発に手を出しているかもしれないし、事業者向けのサービスであれば顧客が頻繁なリリースを嫌がるかもしれないし、継続的な改善が全く期待されていない開発プロジェクトかもしれない。
そんな中で何かしらの問題があるならば、その特殊性を理解した上で、あなたのチームにおいて有効な、あなたが考えた課題整理と解決策を作っていくしかないのである。その思考の過程で、あなたの視座は少しずつ上がっていき、マネージャーや経営層にも話が通じるようになってくる。

また、世の中に溢れているツールやプラクティスを本当の意味で理解するためには、まずは痛い目をみて苦しむということも重要である。一定期間苦しむことで、課題を解像度高く理解することができ、既存のツールやプラクティスがバシッとハマるところとハマらないところが区別できるようになったり、それらを活用する際の勘所が理解できたりする。

言うは易し行うは難しであり、私も日々苦しんでいる。

## 自分で考えるチームを作るために

苦しみや面倒なことを乗り越えたいあなたに、チームひいては事業を本当の意味で強くためのテクニックを紹介したいと思う。
このテクニックは、私が今までに感じていた課題を元に考えたものだが、ある程度汎用的だと思う。

**特別な意味を持つ言葉を使わない**というシンプルなテクニックだ。

例をあげるのがわかりやすいと思うのでそうする。
例えば、"スクラム開発"と言うのではなく"イテレーティブな開発プロセス"と言う。"レトロスペクティブ"と言う代わりに"振り返り会"という。"DDD"というのではなく"業務のモデリング"という。"TDD"というのではなく、"単体テストを関数レベルのあるべき振る舞いを明確にするために書く"という。

「スクラム開発を取り入れます！」と言った時に、真のスクラムとはを突き詰めて考えている人に突っ込まれたり、かつてスクラム開発によって痛い目をみた人に問答無用で拒否されたりして、本当に必要な「われわれにとってどのような開発プロセスが有効か？」という話ができなくなってしまう。

また、自分自身も気づいたら、真のスクラムとはなんなのだろうとか、インターネットに解を求めていたりする。

特別な意味を持つ言葉を用いると、それに寄りかかってしまい、私たち自身の問題をその概念のせいにしたり、その概念を真に実現できていないと考えてしまったり、真に実現するのをブロックしている他人のせいにしてしまうことが往々にして起こる。

代わりにごくごく一般的な意味を持つ言葉を使うことで、枝葉末節の議論を避け、本質的な課題や解決策としての仕組みや実践についてチームメンバー同士で話し合って決めていくことができる。

そうやって少しずつわたしたちが考えたわたしたちの開発プロセスや仕組みを作っていくことができる。それは自然と、あなたのチームにとっての外せない前提を考慮したものになっており、事業に求められていることを達成しやすい形になっているだろう。また"真のXX"に囚われずに、どんどん改善していける。

## さいごに

特別な意味を持つ言葉を使わないというテクニックにもデメリットがあるだろうし、それが有効となる前提もあるだろう。

ただ、誰かにとって有効かもしれないことを、こうした小さなテクニックの単位で共有することは大事だなと思っている。
というのも、これまでにみんなの共有知となっているフレームワークとか開発プロセスは、一定の歴史があったり、関連するプラクティスが組み合わさった大きな知識体系になっていて、必ずといっていいほど、どこか自分たちに合わないところが出てくるからである。

小さなテクニック集が共有知として積み上がっていけば、自分たちに合うものだけを組み合わせることができる。あなたが考案した、あなたのチームのためのテクニックがあれば、ぜひ共有してほしい。
